// Code generated by github.com/actgardner/gogen-avro/v10. DO NOT EDIT.
/*
 * SOURCE:
 *     100058_21.avsc
 */
package avro

import (
	"encoding/json"
	"fmt"
	"io"

	"github.com/actgardner/gogen-avro/v10/compiler"
	"github.com/actgardner/gogen-avro/v10/vm"
	"github.com/actgardner/gogen-avro/v10/vm/types"
)

var _ = fmt.Printf

type Meter struct {
	BatchId *UnionNullString `json:"BatchId"`

	CircuitBreakerConnected *UnionNullBool `json:"CircuitBreakerConnected"`

	CommunicationModule *UnionNullCommunicationModule `json:"CommunicationModule"`

	Configuration *UnionNullMeterConfiguration `json:"Configuration"`

	EndIndexRegistration *UnionNullMeterIndexRegistration `json:"EndIndexRegistration"`

	Environment *UnionNullDeviceEnvironment `json:"Environment"`

	InstalledAt *UnionNullString `json:"InstalledAt"`

	ModelId *UnionNullString `json:"ModelId"`

	ProductionYear *UnionNullInt `json:"ProductionYear"`

	RemovedAt *UnionNullString `json:"RemovedAt"`

	SerialNumber *UnionNullString `json:"SerialNumber"`

	StartIndexRegistration *UnionNullMeterIndexRegistration `json:"StartIndexRegistration"`
}

const MeterAvroCRC64Fingerprint = "\xde\xc1\xab\xd1v\xfc\xc2J"

func NewMeter() Meter {
	r := Meter{}
	r.BatchId = nil
	r.CircuitBreakerConnected = nil
	r.CommunicationModule = nil
	r.Configuration = nil
	r.EndIndexRegistration = nil
	r.Environment = nil
	r.InstalledAt = nil
	r.ModelId = nil
	r.ProductionYear = nil
	r.RemovedAt = nil
	r.SerialNumber = nil
	r.StartIndexRegistration = nil
	return r
}

func DeserializeMeter(r io.Reader) (Meter, error) {
	t := NewMeter()
	deser, err := compiler.CompileSchemaBytes([]byte(t.Schema()), []byte(t.Schema()))
	if err != nil {
		return t, err
	}

	err = vm.Eval(r, deser, &t)
	return t, err
}

func DeserializeMeterFromSchema(r io.Reader, schema string) (Meter, error) {
	t := NewMeter()

	deser, err := compiler.CompileSchemaBytes([]byte(schema), []byte(t.Schema()))
	if err != nil {
		return t, err
	}

	err = vm.Eval(r, deser, &t)
	return t, err
}

func writeMeter(r Meter, w io.Writer) error {
	var err error
	err = writeUnionNullString(r.BatchId, w)
	if err != nil {
		return err
	}
	err = writeUnionNullBool(r.CircuitBreakerConnected, w)
	if err != nil {
		return err
	}
	err = writeUnionNullCommunicationModule(r.CommunicationModule, w)
	if err != nil {
		return err
	}
	err = writeUnionNullMeterConfiguration(r.Configuration, w)
	if err != nil {
		return err
	}
	err = writeUnionNullMeterIndexRegistration(r.EndIndexRegistration, w)
	if err != nil {
		return err
	}
	err = writeUnionNullDeviceEnvironment(r.Environment, w)
	if err != nil {
		return err
	}
	err = writeUnionNullString(r.InstalledAt, w)
	if err != nil {
		return err
	}
	err = writeUnionNullString(r.ModelId, w)
	if err != nil {
		return err
	}
	err = writeUnionNullInt(r.ProductionYear, w)
	if err != nil {
		return err
	}
	err = writeUnionNullString(r.RemovedAt, w)
	if err != nil {
		return err
	}
	err = writeUnionNullString(r.SerialNumber, w)
	if err != nil {
		return err
	}
	err = writeUnionNullMeterIndexRegistration(r.StartIndexRegistration, w)
	if err != nil {
		return err
	}
	return err
}

func (r Meter) Serialize(w io.Writer) error {
	return writeMeter(r, w)
}

func (r Meter) Schema() string {
	return "{\"fields\":[{\"default\":null,\"name\":\"BatchId\",\"type\":[\"null\",\"string\"]},{\"default\":null,\"name\":\"CircuitBreakerConnected\",\"type\":[\"null\",\"boolean\"]},{\"default\":null,\"name\":\"CommunicationModule\",\"type\":[\"null\",{\"fields\":[{\"default\":null,\"name\":\"FirmwareVersion\",\"type\":[\"null\",\"string\"]},{\"default\":null,\"name\":\"HesInstance\",\"type\":[\"null\",\"string\"]},{\"default\":null,\"name\":\"ModelId\",\"type\":[\"null\",\"string\"]},{\"default\":null,\"name\":\"OwnerId\",\"type\":[\"null\",\"string\"]},{\"default\":null,\"name\":\"ProductionYear\",\"type\":[\"null\",\"int\"]},{\"default\":null,\"name\":\"SerialNumber\",\"type\":[\"null\",\"string\"]}],\"name\":\"CommunicationModule\",\"type\":\"record\"}]},{\"default\":null,\"name\":\"Configuration\",\"type\":[\"null\",{\"fields\":[{\"default\":null,\"name\":\"CircuitBreaker\",\"type\":[\"null\",{\"fields\":[{\"default\":null,\"name\":\"ButtonLocalConnectionAllowed\",\"type\":[\"null\",\"boolean\"]},{\"default\":null,\"name\":\"ButtonLocalDisconnectionAllowed\",\"type\":[\"null\",\"boolean\"]},{\"default\":null,\"name\":\"Enabled\",\"type\":[\"null\",\"boolean\"]}],\"name\":\"CircuitBreakerConfiguration\",\"type\":\"record\"}]},{\"name\":\"CollectionConfiguration\",\"type\":{\"name\":\"HesCollectionConfiguration\",\"symbols\":[\"TEST_Contract_DC_60_15_min\",\"Fact_Contract_CT_V2\",\"Empty_Contract\",\"Fact_Contract_CT_V1\",\"Ad_Hoc_Contract\",\"Fact_Contract_DC_V1\",\"Fact_Contract_DC_V2\",\"PreContract\",\"Contract_MCD_60\",\"Contract_MCD_15\",\"Contract_60_min_K\",\"Contract_60_min\",\"Contract_15_min\",\"ColdWater_60min\"],\"type\":\"enum\"}},{\"default\":null,\"name\":\"FirmwareVersion\",\"type\":[\"null\",\"string\"]},{\"default\":null,\"name\":\"HanState\",\"type\":[\"null\",{\"name\":\"HanState\",\"symbols\":[\"Closed\",\"Open\"],\"type\":\"enum\"}]},{\"default\":null,\"name\":\"PrimaryAdjustment\",\"type\":[\"null\",\"double\"]}],\"name\":\"MeterConfiguration\",\"type\":\"record\"}]},{\"default\":null,\"name\":\"EndIndexRegistration\",\"type\":[\"null\",{\"fields\":[{\"default\":null,\"name\":\"ActiveMinusIndex\",\"type\":[\"null\",\"double\"]},{\"default\":null,\"name\":\"ActivePlusIndex\",\"type\":[\"null\",\"double\"]},{\"default\":null,\"name\":\"ReactiveMinusIndex\",\"type\":[\"null\",\"double\"]},{\"default\":null,\"name\":\"ReactivePlusIndex\",\"type\":[\"null\",\"double\"]},{\"default\":null,\"name\":\"RegistrationTime\",\"type\":[\"null\",\"string\"]}],\"name\":\"MeterIndexRegistration\",\"type\":\"record\"}]},{\"default\":null,\"name\":\"Environment\",\"type\":[\"null\",{\"name\":\"DeviceEnvironment\",\"namespace\":\"Msim.Domain.Model.Primitives\",\"symbols\":[\"Unknown\",\"T03\",\"T05\",\"StagingSouth\",\"ProductionSouth\",\"TestNorth\",\"StagingNorth\",\"ProductionNorth\"],\"type\":\"enum\"}]},{\"default\":null,\"name\":\"InstalledAt\",\"type\":[\"null\",\"string\"]},{\"default\":null,\"name\":\"ModelId\",\"type\":[\"null\",\"string\"]},{\"default\":null,\"name\":\"ProductionYear\",\"type\":[\"null\",\"int\"]},{\"default\":null,\"name\":\"RemovedAt\",\"type\":[\"null\",\"string\"]},{\"default\":null,\"name\":\"SerialNumber\",\"type\":[\"null\",\"string\"]},{\"default\":null,\"name\":\"StartIndexRegistration\",\"type\":[\"null\",\"Msim.Domain.Model.Meters.MeterIndexRegistration\"]}],\"name\":\"Msim.Domain.Model.Meters.Meter\",\"type\":\"record\"}"
}

func (r Meter) SchemaName() string {
	return "Msim.Domain.Model.Meters.Meter"
}

func (_ Meter) SetBoolean(v bool)    { panic("Unsupported operation") }
func (_ Meter) SetInt(v int32)       { panic("Unsupported operation") }
func (_ Meter) SetLong(v int64)      { panic("Unsupported operation") }
func (_ Meter) SetFloat(v float32)   { panic("Unsupported operation") }
func (_ Meter) SetDouble(v float64)  { panic("Unsupported operation") }
func (_ Meter) SetBytes(v []byte)    { panic("Unsupported operation") }
func (_ Meter) SetString(v string)   { panic("Unsupported operation") }
func (_ Meter) SetUnionElem(v int64) { panic("Unsupported operation") }

func (r *Meter) Get(i int) types.Field {
	switch i {
	case 0:
		r.BatchId = NewUnionNullString()

		return r.BatchId
	case 1:
		r.CircuitBreakerConnected = NewUnionNullBool()

		return r.CircuitBreakerConnected
	case 2:
		r.CommunicationModule = NewUnionNullCommunicationModule()

		return r.CommunicationModule
	case 3:
		r.Configuration = NewUnionNullMeterConfiguration()

		return r.Configuration
	case 4:
		r.EndIndexRegistration = NewUnionNullMeterIndexRegistration()

		return r.EndIndexRegistration
	case 5:
		r.Environment = NewUnionNullDeviceEnvironment()

		return r.Environment
	case 6:
		r.InstalledAt = NewUnionNullString()

		return r.InstalledAt
	case 7:
		r.ModelId = NewUnionNullString()

		return r.ModelId
	case 8:
		r.ProductionYear = NewUnionNullInt()

		return r.ProductionYear
	case 9:
		r.RemovedAt = NewUnionNullString()

		return r.RemovedAt
	case 10:
		r.SerialNumber = NewUnionNullString()

		return r.SerialNumber
	case 11:
		r.StartIndexRegistration = NewUnionNullMeterIndexRegistration()

		return r.StartIndexRegistration
	}
	panic("Unknown field index")
}

func (r *Meter) SetDefault(i int) {
	switch i {
	case 0:
		r.BatchId = nil
		return
	case 1:
		r.CircuitBreakerConnected = nil
		return
	case 2:
		r.CommunicationModule = nil
		return
	case 3:
		r.Configuration = nil
		return
	case 4:
		r.EndIndexRegistration = nil
		return
	case 5:
		r.Environment = nil
		return
	case 6:
		r.InstalledAt = nil
		return
	case 7:
		r.ModelId = nil
		return
	case 8:
		r.ProductionYear = nil
		return
	case 9:
		r.RemovedAt = nil
		return
	case 10:
		r.SerialNumber = nil
		return
	case 11:
		r.StartIndexRegistration = nil
		return
	}
	panic("Unknown field index")
}

func (r *Meter) NullField(i int) {
	switch i {
	case 0:
		r.BatchId = nil
		return
	case 1:
		r.CircuitBreakerConnected = nil
		return
	case 2:
		r.CommunicationModule = nil
		return
	case 3:
		r.Configuration = nil
		return
	case 4:
		r.EndIndexRegistration = nil
		return
	case 5:
		r.Environment = nil
		return
	case 6:
		r.InstalledAt = nil
		return
	case 7:
		r.ModelId = nil
		return
	case 8:
		r.ProductionYear = nil
		return
	case 9:
		r.RemovedAt = nil
		return
	case 10:
		r.SerialNumber = nil
		return
	case 11:
		r.StartIndexRegistration = nil
		return
	}
	panic("Not a nullable field index")
}

func (_ Meter) AppendMap(key string) types.Field { panic("Unsupported operation") }
func (_ Meter) AppendArray() types.Field         { panic("Unsupported operation") }
func (_ Meter) HintSize(int)                     { panic("Unsupported operation") }
func (_ Meter) Finalize()                        {}

func (_ Meter) AvroCRC64Fingerprint() []byte {
	return []byte(MeterAvroCRC64Fingerprint)
}

func (r Meter) MarshalJSON() ([]byte, error) {
	var err error
	output := make(map[string]json.RawMessage)
	output["BatchId"], err = json.Marshal(r.BatchId)
	if err != nil {
		return nil, err
	}
	output["CircuitBreakerConnected"], err = json.Marshal(r.CircuitBreakerConnected)
	if err != nil {
		return nil, err
	}
	output["CommunicationModule"], err = json.Marshal(r.CommunicationModule)
	if err != nil {
		return nil, err
	}
	output["Configuration"], err = json.Marshal(r.Configuration)
	if err != nil {
		return nil, err
	}
	output["EndIndexRegistration"], err = json.Marshal(r.EndIndexRegistration)
	if err != nil {
		return nil, err
	}
	output["Environment"], err = json.Marshal(r.Environment)
	if err != nil {
		return nil, err
	}
	output["InstalledAt"], err = json.Marshal(r.InstalledAt)
	if err != nil {
		return nil, err
	}
	output["ModelId"], err = json.Marshal(r.ModelId)
	if err != nil {
		return nil, err
	}
	output["ProductionYear"], err = json.Marshal(r.ProductionYear)
	if err != nil {
		return nil, err
	}
	output["RemovedAt"], err = json.Marshal(r.RemovedAt)
	if err != nil {
		return nil, err
	}
	output["SerialNumber"], err = json.Marshal(r.SerialNumber)
	if err != nil {
		return nil, err
	}
	output["StartIndexRegistration"], err = json.Marshal(r.StartIndexRegistration)
	if err != nil {
		return nil, err
	}
	return json.Marshal(output)
}

func (r *Meter) UnmarshalJSON(data []byte) error {
	var fields map[string]json.RawMessage
	if err := json.Unmarshal(data, &fields); err != nil {
		return err
	}

	var val json.RawMessage
	val = func() json.RawMessage {
		if v, ok := fields["BatchId"]; ok {
			return v
		}
		return nil
	}()

	if val != nil {
		if err := json.Unmarshal([]byte(val), &r.BatchId); err != nil {
			return err
		}
	} else {
		r.BatchId = NewUnionNullString()

		r.BatchId = nil
	}
	val = func() json.RawMessage {
		if v, ok := fields["CircuitBreakerConnected"]; ok {
			return v
		}
		return nil
	}()

	if val != nil {
		if err := json.Unmarshal([]byte(val), &r.CircuitBreakerConnected); err != nil {
			return err
		}
	} else {
		r.CircuitBreakerConnected = NewUnionNullBool()

		r.CircuitBreakerConnected = nil
	}
	val = func() json.RawMessage {
		if v, ok := fields["CommunicationModule"]; ok {
			return v
		}
		return nil
	}()

	if val != nil {
		if err := json.Unmarshal([]byte(val), &r.CommunicationModule); err != nil {
			return err
		}
	} else {
		r.CommunicationModule = NewUnionNullCommunicationModule()

		r.CommunicationModule = nil
	}
	val = func() json.RawMessage {
		if v, ok := fields["Configuration"]; ok {
			return v
		}
		return nil
	}()

	if val != nil {
		if err := json.Unmarshal([]byte(val), &r.Configuration); err != nil {
			return err
		}
	} else {
		r.Configuration = NewUnionNullMeterConfiguration()

		r.Configuration = nil
	}
	val = func() json.RawMessage {
		if v, ok := fields["EndIndexRegistration"]; ok {
			return v
		}
		return nil
	}()

	if val != nil {
		if err := json.Unmarshal([]byte(val), &r.EndIndexRegistration); err != nil {
			return err
		}
	} else {
		r.EndIndexRegistration = NewUnionNullMeterIndexRegistration()

		r.EndIndexRegistration = nil
	}
	val = func() json.RawMessage {
		if v, ok := fields["Environment"]; ok {
			return v
		}
		return nil
	}()

	if val != nil {
		if err := json.Unmarshal([]byte(val), &r.Environment); err != nil {
			return err
		}
	} else {
		r.Environment = NewUnionNullDeviceEnvironment()

		r.Environment = nil
	}
	val = func() json.RawMessage {
		if v, ok := fields["InstalledAt"]; ok {
			return v
		}
		return nil
	}()

	if val != nil {
		if err := json.Unmarshal([]byte(val), &r.InstalledAt); err != nil {
			return err
		}
	} else {
		r.InstalledAt = NewUnionNullString()

		r.InstalledAt = nil
	}
	val = func() json.RawMessage {
		if v, ok := fields["ModelId"]; ok {
			return v
		}
		return nil
	}()

	if val != nil {
		if err := json.Unmarshal([]byte(val), &r.ModelId); err != nil {
			return err
		}
	} else {
		r.ModelId = NewUnionNullString()

		r.ModelId = nil
	}
	val = func() json.RawMessage {
		if v, ok := fields["ProductionYear"]; ok {
			return v
		}
		return nil
	}()

	if val != nil {
		if err := json.Unmarshal([]byte(val), &r.ProductionYear); err != nil {
			return err
		}
	} else {
		r.ProductionYear = NewUnionNullInt()

		r.ProductionYear = nil
	}
	val = func() json.RawMessage {
		if v, ok := fields["RemovedAt"]; ok {
			return v
		}
		return nil
	}()

	if val != nil {
		if err := json.Unmarshal([]byte(val), &r.RemovedAt); err != nil {
			return err
		}
	} else {
		r.RemovedAt = NewUnionNullString()

		r.RemovedAt = nil
	}
	val = func() json.RawMessage {
		if v, ok := fields["SerialNumber"]; ok {
			return v
		}
		return nil
	}()

	if val != nil {
		if err := json.Unmarshal([]byte(val), &r.SerialNumber); err != nil {
			return err
		}
	} else {
		r.SerialNumber = NewUnionNullString()

		r.SerialNumber = nil
	}
	val = func() json.RawMessage {
		if v, ok := fields["StartIndexRegistration"]; ok {
			return v
		}
		return nil
	}()

	if val != nil {
		if err := json.Unmarshal([]byte(val), &r.StartIndexRegistration); err != nil {
			return err
		}
	} else {
		r.StartIndexRegistration = NewUnionNullMeterIndexRegistration()

		r.StartIndexRegistration = nil
	}
	return nil
}
